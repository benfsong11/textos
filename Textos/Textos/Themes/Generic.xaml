<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:controls="clr-namespace:Textos.Controls">
    
    <!-- MarkdownEditor Style -->
    <Style TargetType="{x:Type controls:MarkdownEditor}">
        <Setter Property="Focusable" Value="True"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type controls:MarkdownEditor}">
                    <Grid>
                        <!-- Edit Mode - Always on top when visible -->
                        <Border x:Name="PART_EditContainer" 
                                Background="{DynamicResource EditorBgBrush}" 
                                CornerRadius="8"
                                Visibility="Visible">
                            <RichTextBox x:Name="PART_EditBox"
                                         Background="Transparent"
                                         Foreground="{DynamicResource TextPrimaryBrush}"
                                         CaretBrush="{DynamicResource PrimaryBrush}"
                                         SelectionBrush="{DynamicResource PrimaryBrush}"
                                         BorderThickness="0"
                                         Padding="40"
                                         AcceptsReturn="True"
                                         AcceptsTab="True"
                                         IsTabStop="True"
                                         Focusable="True"
                                         VerticalScrollBarVisibility="Auto"
                                         HorizontalScrollBarVisibility="Disabled"/>
                        </Border>
                        <!-- Preview Mode -->
                        <Border x:Name="PART_PreviewContainer" 
                                Background="{DynamicResource EditorBgBrush}" 
                                CornerRadius="8"
                                Cursor="IBeam"
                                Visibility="Collapsed">
                            <FlowDocumentScrollViewer x:Name="PART_PreviewViewer"
                                                       Background="Transparent"
                                                       Foreground="{DynamicResource TextPrimaryBrush}"
                                                       VerticalScrollBarVisibility="Auto"
                                                       IsToolBarVisible="False"
                                                       Focusable="False"
                                                       IsHitTestVisible="True"/>
                        </Border>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    
    <!-- PagedDocumentViewer Style -->
    <Style TargetType="{x:Type controls:PagedDocumentViewer}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type controls:PagedDocumentViewer}">
                    <ScrollViewer x:Name="PART_ScrollViewer" 
                                  VerticalScrollBarVisibility="Auto" 
                                  HorizontalScrollBarVisibility="Disabled"
                                  Background="Transparent"
                                  Padding="24">
                        <StackPanel x:Name="PART_PagesPanel" 
                                    HorizontalAlignment="Center"/>
                    </ScrollViewer>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    
</ResourceDictionary>
